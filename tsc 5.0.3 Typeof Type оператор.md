## Typeof Type оператор

JavaScript уже имеет оператор типа, который можно использовать в контексте выражения:

```ts
// Выводит "string"
console.log(typeof "Hello world");
```

TypeScript добавляет оператор типа, который можно использовать в контексте типа для ссылки типа переменной или свойства:

```ts
let s = "hello";
let n: typeof s; // let n: string
```

Это не очень полезно для базовых типов, но в сочетании с операторами других типов можно использовать тип для удобства в выражения многих шаблонов. В качестве примера рассмотрим предопределенный тип `ReturnType<T>`. Он принимает тип функции и возвращает тип возвращаемой функцией:

```ts
type Predicate = (x: unknown) => boolean;

type K = ReturnType<Predicate>; // type K = boolean
```

Если мы попытаемся использовать ReturnType для имени функции, то увидим  ошибку:

```ts
function f() {
    return { x: 10, y: 3 };
}

type P = ReturnType<f>; // 'f' ссылается на значение, но используется в качестве типа. Вы имели в виду 'typeof f'?
```

Помните, что значения и типы не одно и то же. Для ссылки на тип, который имеет значение `f`, используется тип:

```ts
function f() {
    return { x: 10, y: 3 };
}

type P = ReturnType<typeof f>; // type P = {
                                //   x: number;
                                //   y: number;
                                // }
```

### Ограничения

TypeScript намеренно ограничивает типы выражений, для которых можно использовать тип.

В частности, законно использовать тип идентификаторов (т.е. имена переменных) или их свойства. Это помогает избежать ловушки написания кода, который, по вашему мнению, выполняется, но не является правильным:

```ts
// Предназначен для использования = ReturnType<typeof msgbox>
let shouldContinue: typeof msgbox("Are you sure you want to continue?"); // ',' ожидается.
```